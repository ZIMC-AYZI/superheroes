(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{fWNm:function(e,t,r){"use strict";r.r(t),r.d(t,"HeroSelectModule",(function(){return H}));var n=r("ofXK"),c=r("3Pt+"),s=r("dOlH");const o={findHeroPattern:r("UnUK").a};var a=r("XefZ"),i=r("1G5W"),l=r("fXoL"),u=r("OSq7"),h=r("7dP1"),p=r("C07x"),b=r("tyNb"),f=r("NFeN");const d=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];function g(e,t){if(1&e){const e=l.Ub();l.Tb(0,"button",3),l.ec("mouseenter",(function(){l.uc(e);const r=t.$implicit;return l.hc().showMyTarget(r)}))("click",(function(){return l.uc(e),l.hc().searchByBtn()})),l.Ec(1),l.Sb()}if(2&e){const e=t.$implicit;l.Ab(1),l.Gc(" ",e," ")}}let m=(()=>{class e{constructor(){this.menuLetters=d,this.myLetter=new l.o,this.searchBtn=new l.o}showMyTarget(e){this.myTargetLetter=e,this.myLetter.emit(e)}searchByBtn(){this.searchBtn.emit(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Hb({type:e,selectors:[["app-alphabetical"]],outputs:{myLetter:"myLetter",searchBtn:"searchBtn"},decls:3,vars:1,consts:[[1,"abc-wrapper"],[1,"abc-list"],["class","btn btn-danger abc-item",3,"mouseenter","click",4,"ngFor","ngForOf"],[1,"btn","btn-danger","abc-item",3,"mouseenter","click"]],template:function(e,t){1&e&&(l.Tb(0,"div",0),l.Tb(1,"div",1),l.Cc(2,g,2,1,"button",2),l.Sb(),l.Sb()),2&e&&(l.Ab(2),l.mc("ngForOf",t.menuLetters))},directives:[n.j],styles:[".abc-wrapper[_ngcontent-%COMP%]{position:absolute;left:-22%;width:17%}.abc-wrapper[_ngcontent-%COMP%]   .abc-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.abc-wrapper[_ngcontent-%COMP%]   .abc-list[_ngcontent-%COMP%]   .abc-item[_ngcontent-%COMP%]{margin:2px}"]}),e})();var S=r("Hya6");function w(e,t){if(1&e){const e=l.Ub();l.Tb(0,"app-alphabetical",13),l.ec("myLetter",(function(t){return l.uc(e),l.hc().toggleLetter(t)}))("searchBtn",(function(t){return l.uc(e),l.hc().searchByValueBtn(t)})),l.Sb()}}function O(e,t){1&e&&(l.Tb(0,"small"),l.Ec(1," \u043f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c "),l.Sb())}function y(e,t){1&e&&(l.Tb(0,"small"),l.Ec(1," \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b "),l.Sb())}function C(e,t){if(1&e&&(l.Tb(0,"div",14),l.Cc(1,O,2,0,"small",15),l.Cc(2,y,2,0,"small",15),l.Sb()),2&e){const e=l.hc();l.Ab(1),l.mc("ngIf",e.isFieldHasError("userEnterValue","required")),l.Ab(1),l.mc("ngIf",e.isFieldHasError("userEnterValue","pattern"))}}function v(e,t){if(1&e){const e=l.Ub();l.Tb(0,"div",16),l.ec("click",(function(){l.uc(e);const r=t.$implicit;return l.hc().recentSearch(r)})),l.Ec(1),l.Sb()}if(2&e){const e=t.$implicit;l.Ab(1),l.Gc(" ",e," ")}}function M(e,t){1&e&&l.Ob(0,"app-found-hero",22),2&e&&l.mc("foundHero",t.$implicit)}function P(e,t){if(1&e&&(l.Tb(0,"div",17),l.Tb(1,"div",18),l.Tb(2,"p",19),l.Ec(3),l.Sb(),l.Sb(),l.Tb(4,"div",20),l.Cc(5,M,1,1,"app-found-hero",21),l.Sb(),l.Sb()),2&e){const e=l.hc();l.Ab(3),l.Gc(" Results : ",e.result,""),l.Ab(2),l.mc("ngForOf",e.foundHeroes)}}let _=(()=>{class e extends s.a{constructor(e,t,r,n,c,s){super(),this.ngOnDestroy$=e,this.data=t,this.authService=r,this.fb=n,this.userHeroService=c,this.activeRoute=s,this.resultState=!1,this.foundHeroes=[],this.recentSearches=[],this.stateAlphabetical=!1,this.myLetter="A"}initForm(){console.log(this.activeRoute),localStorage.getItem("recent-search")&&(this.recentSearches=[...JSON.parse(localStorage.getItem("recent-search"))]),this.form=this.fb.group({userEnterValue:["",[c.l.required,c.l.pattern(o.findHeroPattern)]]}),this.authService.checkSession()}findHeroes(){this.form.valid&&(this.recentSearches=[...this.recentSearches,this.form.value.userEnterValue],localStorage.setItem("recent-search",JSON.stringify(this.recentSearches)),this.getRequest(this.form.value.userEnterValue))}recentSearch(e){this.getRequest(e)}showAlphabetical(){this.stateAlphabetical=!this.stateAlphabetical}toggleLetter(e){this.myLetter=e}searchByValueBtn(e){this.stateAlphabetical=e,this.recentSearches=[...this.recentSearches,this.myLetter],localStorage.setItem("recent-search",JSON.stringify(this.recentSearches)),this.getRequest(this.myLetter)}getRequest(e){this.data.getData(e).pipe(Object(i.a)(this.ngOnDestroy$)).subscribe(({results:e})=>{this.foundHeroes=e,this.resultState=!0,this.result=e.length})}ngOnDestroy(){this.userHeroService.addToMyHeroes()}}return e.\u0275fac=function(t){return new(t||e)(l.Nb(a.a,2),l.Nb(u.a),l.Nb(h.a),l.Nb(c.b),l.Nb(p.a),l.Nb(b.a))},e.\u0275cmp=l.Hb({type:e,selectors:[["app-hero-select"]],features:[l.zb([a.a]),l.xb],decls:17,vars:8,consts:[[1,"hero-select-wrapper"],[1,"container"],[1,"md-form","mt-0","search-custom-wrapper"],[1,"btn","btn-danger","custom",3,"click"],[3,"myLetter","searchBtn",4,"ngIf"],[3,"formGroup"],[1,"form-group"],["type","text","formControlName","userEnterValue",1,"form-control"],["class","validation",4,"ngIf"],[1,"find-heroes",3,"click"],[1,"recent-search"],["class","recent-search-item",3,"click",4,"ngFor","ngForOf"],["class","found-heroes-wrapper",4,"ngIf"],[3,"myLetter","searchBtn"],[1,"validation"],[4,"ngIf"],[1,"recent-search-item",3,"click"],[1,"found-heroes-wrapper"],[1,"result-wrapper"],[1,"result"],[1,"founded-heroes-wrapper"],[3,"foundHero",4,"ngFor","ngForOf"],[3,"foundHero"]],template:function(e,t){1&e&&(l.Tb(0,"div",0),l.Tb(1,"div",1),l.Tb(2,"div",2),l.Tb(3,"button",3),l.ec("click",(function(){return t.showAlphabetical()})),l.Ec(4),l.ic(5,"uppercase"),l.Sb(),l.Cc(6,w,1,0,"app-alphabetical",4),l.Tb(7,"form",5),l.Tb(8,"div",6),l.Ob(9,"input",7),l.Cc(10,C,3,2,"div",8),l.Sb(),l.Sb(),l.Tb(11,"button",9),l.ec("click",(function(){return t.findHeroes()})),l.Tb(12,"mat-icon"),l.Ec(13,"search"),l.Sb(),l.Sb(),l.Sb(),l.Tb(14,"div",10),l.Cc(15,v,2,1,"div",11),l.Sb(),l.Cc(16,P,6,2,"div",12),l.Sb(),l.Sb()),2&e&&(l.Ab(4),l.Fc(l.jc(5,6,t.myLetter)),l.Ab(2),l.mc("ngIf",t.stateAlphabetical),l.Ab(1),l.mc("formGroup",t.form),l.Ab(3),l.mc("ngIf",t.getField("userEnterValue").invalid&&t.getField("userEnterValue").touched),l.Ab(5),l.mc("ngForOf",t.recentSearches),l.Ab(1),l.mc("ngIf",t.resultState))},directives:[n.k,c.n,c.i,c.d,c.a,c.h,c.c,f.a,n.j,m,S.a],pipes:[n.t],styles:[".hero-select-wrapper[_ngcontent-%COMP%]{margin-top:2%}.hero-select-wrapper[_ngcontent-%COMP%]   .found-heroes-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid rgba(0,0,0,.125)}.hero-select-wrapper[_ngcontent-%COMP%]   .found-heroes-wrapper[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.hero-select-wrapper[_ngcontent-%COMP%]   .found-heroes-wrapper[_ngcontent-%COMP%]   .result-wrapper[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]{padding:10px}.hero-select-wrapper[_ngcontent-%COMP%]   .found-heroes-wrapper[_ngcontent-%COMP%]   .founded-heroes-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.hero-select-wrapper[_ngcontent-%COMP%]   .search-custom-wrapper[_ngcontent-%COMP%]{position:relative}.hero-select-wrapper[_ngcontent-%COMP%]   .search-custom-wrapper[_ngcontent-%COMP%]   .custom[_ngcontent-%COMP%]{position:absolute;left:-3.5%;top:0}.hero-select-wrapper[_ngcontent-%COMP%]   .search-custom-wrapper[_ngcontent-%COMP%]   .find-heroes[_ngcontent-%COMP%]{background:none;outline:none;border:none;padding:6px;position:absolute;top:0;right:0}.recent-search[_ngcontent-%COMP%]   .recent-search-item[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();var T=r("CSNs");const A=[{path:"",component:_}];let H=(()=>{class e{}return e.\u0275mod=l.Lb({type:e}),e.\u0275inj=l.Kb({factory:function(t){return new(t||e)},imports:[[n.b,c.k,f.b,T.a,b.e.forChild(A)]]}),e})()}}]);